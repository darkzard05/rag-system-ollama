# ============================================================================
# RAG System Configuration File
# ============================================================================
# 이 파일을 .env로 복사하고 아래 값들을 환경에 맞게 설정하세요.
# ============================================================================

# ============================================================================
# 1. 모델 설정
# ============================================================================

# Ollama 서버 주소
# 로컬: http://localhost:11434
# Docker: http://ollama:11434
# 원격: http://your-server-ip:11434
OLLAMA_BASE_URL=http://localhost:11434

# 기본 LLM 모델
# 사용 가능: qwen3:4b, llama3, mistral 등
DEFAULT_OLLAMA_MODEL=qwen3:4b

# 기본 임베딩 모델
# 사용 가능: all-MiniLM-L6-v2, all-mpnet-base-v2 등
DEFAULT_EMBEDDING_MODEL=all-MiniLM-L6-v2

# LLM 생성 파라미터
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.9
LLM_NUM_CTX=4096
LLM_NUM_GPU=1

# ============================================================================
# 2. 벡터 저장소 설정
# ============================================================================

# FAISS 인덱스 경로
VECTOR_STORE_PATH=./cache/vector_store

# 임베딩 배치 사이즈
EMBEDDING_BATCH_SIZE=32

# 임베딩 캐시 TTL (초)
EMBEDDING_CACHE_TTL=3600

# ============================================================================
# 3. 캐싱 설정
# ============================================================================

# 캐시 활성화 여부
ENABLE_CACHE=true

# 캐시 레이어 선택
# 옵션: memory, redis, hybrid
CACHE_TYPE=memory

# Redis 설정 (CACHE_TYPE=redis 또는 hybrid일 때)
REDIS_URL=redis://localhost:6379/0
REDIS_TTL=3600

# 캐시 최대 크기 (MB)
MAX_CACHE_SIZE=1000

# 캐시 히트 임계값
CACHE_HIT_THRESHOLD=0.5

# ============================================================================
# 4. 청킹 설정
# ============================================================================

# 기본 청크 크기 (문자 수)
DEFAULT_CHUNK_SIZE=1024

# 청크 중복 (문자 수)
DEFAULT_CHUNK_OVERLAP=200

# 의미론적 청킹 활성화
ENABLE_SEMANTIC_CHUNKING=true

# 최소 청크 수
MIN_CHUNKS_REQUIRED=2

# ============================================================================
# 5. 검색 설정
# ============================================================================

# 기본 상위 K 결과
DEFAULT_TOP_K=5

# 검색 점수 임계값
SEARCH_SCORE_THRESHOLD=0.5

# BM25 가중치
BM25_WEIGHT=0.3

# 분산 검색 활성화
ENABLE_DISTRIBUTED_SEARCH=true

# ============================================================================
# 6. 성능/모니터링 설정
# ============================================================================

# 타임아웃 설정 (초)
PDF_PROCESSING_TIMEOUT=60
LLM_RESPONSE_TIMEOUT=30
SEARCH_TIMEOUT=15

# 성능 모니터링 활성화
ENABLE_PERFORMANCE_MONITORING=true

# 로깅 레벨
# 옵션: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 로그 파일 경로
LOG_FILE_PATH=./logs/rag_system.log

# 메트릭 수집 활성화
ENABLE_METRICS=true

# ============================================================================
# 7. 보안 설정
# ============================================================================

# RBAC 활성화
ENABLE_RBAC=true

# JWT 비밀 키
JWT_SECRET_KEY=your-secret-key-change-in-production

# JWT 토큰 만료 시간 (시간)
JWT_EXPIRATION_HOURS=24

# 캐시 암호화
ENABLE_CACHE_ENCRYPTION=true

# AES 암호화 키 (32바이트 hex)
AES_ENCRYPTION_KEY=00000000000000000000000000000000

# ============================================================================
# 8. 배포 설정
# ============================================================================

# 배포 환경
# 옵션: development, staging, production
ENVIRONMENT=development

# 배포 활성화 기능
ENABLE_DEPLOYMENT_MANAGER=true

# 마이그레이션 자동 실행
AUTO_APPLY_MIGRATIONS=false

# 롤백 자동 활성화
ENABLE_AUTO_ROLLBACK=true

# ============================================================================
# 9. API 설정
# ============================================================================

# API 포트
API_PORT=8000

# API 호스트
API_HOST=0.0.0.0

# Streamlit UI 포트
STREAMLIT_PORT=8501

# CORS 활성화
ENABLE_CORS=true

# 허용된 CORS 오리진
CORS_ORIGINS=http://localhost:3000,http://localhost:8501

# ============================================================================
# 10. 선택 사항 (Optional)
# ============================================================================

# Gemini API 키 (선택)
GEMINI_API_KEY=

# 알림 채널
# 옵션: email, slack, webhook
NOTIFICATION_CHANNEL=email

# 알림 이메일
NOTIFICATION_EMAIL=admin@example.com

# Slack 웹훅 (알림용)
SLACK_WEBHOOK_URL=

# 모니터링 시스템
# 옵션: prometheus, datadog, custom
MONITORING_SYSTEM=prometheus
